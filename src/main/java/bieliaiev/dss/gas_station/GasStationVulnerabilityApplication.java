package bieliaiev.dss.gas_station;

import bieliaiev.dss.gas_station.model.feature.Feature;
import bieliaiev.dss.gas_station.model.feature.FeatureGroup;
import bieliaiev.dss.gas_station.repository.feature.FeatureGroupRepository;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;

import java.util.List;

@SpringBootApplication
public class GasStationVulnerabilityApplication {

	public static void main(String[] args) {
		SpringApplication.run(GasStationVulnerabilityApplication.class, args);
	}


	@Bean
	public CommandLineRunner commandLineRunner(FeatureGroupRepository repository) {
		return args -> {
			FeatureGroup economicGroup = new FeatureGroup("E", "Economic");
			FeatureGroup socialGroup = new FeatureGroup("S", "Social");
			FeatureGroup environmentalGroup = new FeatureGroup("A", "Environmental");

			economicGroup.setFeatures(List.of(
					new Feature(1, "E1"),
					new Feature(2, "E2"),
					new Feature(3, "E3")));
			socialGroup.setFeatures(List.of(
					new Feature(1, "S1"),
					new Feature(2, "S2"),
					new Feature(3, "S3")));
			environmentalGroup.setFeatures(List.of(
					new Feature(1, "A1"),
					new Feature(2, "A2"),
					new Feature(3, "A3")));

			repository.saveAll(List.of(economicGroup, socialGroup, environmentalGroup));
		};
	}
}
